<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by perltidy on Mon Oct  9 23:14:54 2006 -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MyCanon.pm</title>
<link rel="stylesheet" href="style.css" type="text/css" /></head>
<body>
<a name="-top-"></a>
<h1>MyCanon.pm</h1>
<!-- BEGIN CODE INDEX --><a name="code-index"></a>
<ul>
<li><a href="#canon-">package main</a>
<ul>
<li><a href="#canon-">canon</a></li>
<li><a href="#subtract-">subtract</a></li>
<li><a href="#adjacent_pattern-">adjacent_pattern</a></li>
</ul>
</li>
<li><a href="#EOF-">EOF</a></li>
</ul>
<!-- END CODE INDEX -->
<hr />
<!-- contents of filename: MyCanon.pm -->
<pre>
<a name="canon-"></a>   1 <span class="k">sub </span><span class="m">canon</span> <span class="s">{</span>
   2 	<span class="k">my</span> <span class="i">$v</span>=<span class="k">shift</span><span class="sc">;</span>
   3 	<span class="i">$v</span> =~ <span class="q">s/\W//</span><span class="sc">;</span> <span class="c"># remove non-word chars</span>
   4 	<span class="k">join</span> <span class="q">&#39;&#39;</span><span class="cm">,</span> <span class="k">sort</span> <span class="k">split</span> <span class="q">&#39;&#39;</span><span class="cm">,</span> <span class="k">lc</span> <span class="i">$v</span> <span class="c"># Must lc before sort</span>
   5 <span class="s">}</span>
   6 
<a name="subtract-"></a>   7 <span class="k">sub </span><span class="m">subtract</span> <span class="s">{</span> <span class="c"># letter sequences</span>
   8 	<span class="k">my</span> <span class="s">(</span><span class="i">$longer</span><span class="cm">,</span> <span class="i">$shorter</span><span class="s">)</span>=<span class="s">(</span><span class="i">@_</span><span class="s">)</span><span class="sc">;</span>
   9 	<span class="k">my</span> <span class="i">$difference</span>=<span class="i">$longer</span><span class="sc">;</span>
  10 	<span class="k">foreach</span> <span class="k">my</span> <span class="i">$c</span> <span class="s">(</span><span class="k">split</span> <span class="q">&#39;&#39;</span><span class="cm">,</span> <span class="i">$shorter</span><span class="s">)</span> <span class="s">{</span>
  11 		<span class="i">$difference</span> =~ <span class="q">s/$c//</span>
  12 				 
  13 	  <span class="c">## Does NOT check for propersubset as original did	</span>
  14 	<span class="s">}</span>
  15 <span class="k">return</span> <span class="i">$difference</span><span class="sc">;</span>
  16 <span class="s">}</span>
  17 
<a name="adjacent_pattern-"></a>  18 <span class="k">sub </span><span class="m">adjacent_pattern</span> <span class="s">{</span>
  19    <span class="k">my</span> <span class="i">$input</span>=<span class="k">shift</span><span class="sc">;</span>
  20    <span class="k">return</span> <span class="k">join</span> <span class="q">&#39;|&#39;</span><span class="cm">,</span> <span class="k">map</span> <span class="s">{</span><span class="k">my</span> <span class="i">$x</span>=<span class="i">$input</span><span class="sc">;</span> <span class="k">substr</span><span class="s">(</span><span class="i">$x</span><span class="cm">,</span><span class="i">$_</span><span class="cm">,</span><span class="n">1</span><span class="s">)</span>=<span class="q">q{.}</span><span class="sc">;</span><span class="i">$x</span><span class="s">}</span> <span class="n">0</span> .. <span class="k">length</span><span class="s">(</span><span class="i">$input</span><span class="s">)</span>-<span class="n">1</span><span class="sc">;</span>
  21 <span class="s">}</span>
  22 
  23 <span class="n">1</span><span class="sc">;</span> <span class="c"># Return true like every good module</span>
  24 
<a name="EOF-"></a></pre>
</body>
</html>
